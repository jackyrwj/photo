<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¢åº•è‰² - åœ¨çº¿è¯ä»¶ç…§æ¢åº•è‰²å·¥å…·</title>
    <meta name="description" content="å…è´¹åœ¨çº¿è¯ä»¶ç…§æ¢åº•è‰²å·¥å…·ï¼Œæ”¯æŒç™½åº•ã€è“åº•ã€çº¢åº•ç­‰å¤šç§é¢œè‰²ï¼Œæ™ºèƒ½æŠ å›¾ï¼Œæ•ˆæœä¸“ä¸šã€‚">
    <meta name="keywords" content="è¯ä»¶ç…§,æ¢åº•è‰²,åœ¨çº¿å·¥å…·,å…è´¹,ç™½åº•,è“åº•,çº¢åº•">

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ¨</text></svg>">

    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <a href="/" class="nav-link active">
            <span>ğŸ¨</span>
            <span>æ¢åº•è‰²</span>
        </a>
        <a href="/crop" class="nav-link">
            <span>âœ‚ï¸</span>
            <span>è£å‰ªå·¥å…·</span>
        </a>
    </nav>

    <div class="container">
        <div class="header">
            <a href="https://github.com/jackyrwj/photo" target="_blank" rel="noopener noreferrer" class="github-link">
                <svg class="github-icon" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                </svg>
                GitHub
            </a>
            <h1>
                <span class="icon">ğŸ¨</span>
                <span>æ¢åº•è‰²</span>
            </h1>
            <p class="subtitle">
                å…è´¹åœ¨çº¿è¯ä»¶ç…§æ¢åº•è‰²å·¥å…· Â· æ™ºèƒ½æŠ å›¾ Â· æ•ˆæœä¸“ä¸š<br>
                æ”¯æŒç™½åº•ã€è“åº•ã€çº¢åº•ç­‰å¤šç§é¢œè‰²ï¼Œä¸€é”®ç”Ÿæˆæ ‡å‡†è¯ä»¶ç…§
            </p>
        </div>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸï¼šå·¦ä¾§æ•ˆæœå±•ç¤ºï¼Œå³ä¾§åŠŸèƒ½åŒº -->
        <div class="main-content">
            <!-- å·¦ä¾§ï¼šæ•ˆæœå±•ç¤º -->
            <div class="demo-section">
                <h2>æ•ˆæœå±•ç¤º</h2>
                <div class="demo-images">
                    <div class="demo-original">
                        <img src="/static/demo/image.jpg" alt="åŸå›¾">
                        <p>åŸå›¾</p>
                    </div>
                    <div class="demo-arrows">
                        <div class="arrow-container">
                            <div class="arrow-line"></div>
                            <div class="arrow-head"></div>
                        </div>
                        <div class="arrow-container">
                            <div class="arrow-line"></div>
                            <div class="arrow-head"></div>
                        </div>
                    </div>
                    <div class="demo-results">
                        <div class="demo-item">
                            <img src="/static/demo/red.jpg" alt="çº¢åº•">
                            <p>çº¢åº•</p>
                        </div>
                        <div class="demo-item">
                            <img src="/static/demo/white.jpg" alt="ç™½åº•">
                            <p>ç™½åº•</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å³ä¾§ï¼šåŠŸèƒ½åŒº -->
            <div class="function-section">
                <div class="upload-section">
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="fileInput" accept="image/*" style="display: none;">
                        <div class="upload-text">
                            <p>å°†è¯ä»¶ç…§æ‹–å…¥æ­¤å¤„æˆ–ç‚¹å‡»ä¸Šä¼ </p>
                        </div>
                    </div>
                </div>

                <div class="color-section">
                    <div class="color-label">
                        <span>ç…§ç‰‡åº•è‰²ï¼š</span>
                        <span class="color-display" id="colorDisplay">#ff0000</span>
                    </div>
                    <span class="color-label-sub">å¸¸è§åº•è‰²ï¼ˆç‚¹å‡»ç›´æ¥é€‰ï¼Œç™½/è“/çº¢è‡ªåŠ¨é¢„è§ˆï¼‰ï¼š</span>
                    <div class="preset-colors">
                        <div class="color-box auto-preview" data-color="#ffffff" style="background-color: #ffffff; border: 2px solid #ddd;" title="ç™½è‰²"></div>
                        <div class="color-box auto-preview" data-color="#2196F3" style="background-color: #2196F3;" title="è“è‰²"></div>
                        <div class="color-box auto-preview" data-color="#ff0000" style="background-color: #ff0000;" title="çº¢è‰²"></div>
                        <div class="color-box" data-color="#d32f2f" style="background-color: #d32f2f;" title="æ·±çº¢è‰²"></div>
                        <div class="color-box" data-color="#808080" style="background-color: #808080;" title="ç°è‰²"></div>
                        <div class="color-box" data-color="#87CEEB" style="background-color: #87CEEB;" title="æµ…è“è‰²"></div>
                        <div class="color-box" data-color="#4169E1" style="background-color: #4169E1;" title="æ·±è“è‰²"></div>
                        <div class="color-box" data-color="#8B0000" style="background-color: #8B0000;" title="æš—çº¢è‰²"></div>
                    </div>
                    <div class="custom-color">
                        <label for="colorPicker">è‡ªå®šä¹‰é¢œè‰²ï¼š</label>
                        <input type="color" id="colorPicker" value="#ff0000">
                    </div>
                </div>

                <div class="action-section">
                    <button id="processBtn" class="btn-primary" disabled>å¼€å§‹å¤„ç†</button>
                </div>
            </div>
        </div>

        <div class="result-section" id="resultSection" style="display: none;">
            <h2>å¤„ç†ç»“æœ</h2>
            <div class="result-images-grid">
                <div class="image-container">
                    <h3>åŸå›¾</h3>
                    <img id="originalImage" alt="åŸå›¾">
                </div>
                <div class="image-container">
                    <h3>ç™½åº•</h3>
                    <img id="whiteImage" alt="ç™½åº•" style="display: none;">
                    <div class="loading-placeholder" id="whiteLoading">å¤„ç†ä¸­...</div>
                </div>
                <div class="image-container">
                    <h3>è“åº•</h3>
                    <img id="blueImage" alt="è“åº•" style="display: none;">
                    <div class="loading-placeholder" id="blueLoading">å¤„ç†ä¸­...</div>
                </div>
                <div class="image-container">
                    <h3>çº¢åº•</h3>
                    <img id="redImage" alt="çº¢åº•" style="display: none;">
                    <div class="loading-placeholder" id="redLoading">å¤„ç†ä¸­...</div>
                </div>
            </div>
            <div class="download-buttons">
                <button class="btn-download" id="downloadWhite" style="display: none;">ä¸‹è½½ç™½åº•</button>
                <button class="btn-download" id="downloadBlue" style="display: none;">ä¸‹è½½è“åº•</button>
                <button class="btn-download" id="downloadRed" style="display: none;">ä¸‹è½½çº¢åº•</button>
            </div>
        </div>

        <!-- è‡ªå®šä¹‰é¢œè‰²ç»“æœ -->
        <div class="custom-result-section" id="customResultSection" style="display: none;">
            <h2>è‡ªå®šä¹‰é¢œè‰²ç»“æœ</h2>
            <div class="result-images">
                <div class="image-container">
                    <h3>åŸå›¾</h3>
                    <img id="customOriginalImage" alt="åŸå›¾">
                </div>
                <div class="image-container">
                    <h3>å¤„ç†å</h3>
                    <img id="customResultImage" alt="å¤„ç†å">
                </div>
            </div>
            <button id="downloadCustom" class="btn-success">ä¸‹è½½å›¾ç‰‡</button>
        </div>

        <div class="tips">
            <p class="tip-title">è¯ä»¶ç…§é™æ—¶å…è´¹ä¸­ã€‚AIæ™ºèƒ½ä¸€é”®åˆ¶ä½œè¯ä»¶ç…§&æ¢åº•è‰²ã€‚æ›´å¤šæ ¼å¼å¯é€‰ã€‚æ›´æ™ºèƒ½å¿«æ·ã€‚æ¬¢è¿å…è´¹è¯•ç”¨ã€‚</p>
            <p>è¯ä»¶ç…§åœ¨çº¿æ¢åº•è‰²å·¥å…·æ”¯æŒä¸€é”®æ™ºèƒ½è¯ä»¶ç…§èƒŒæ™¯è‰²ï¼Œä¸€é”®æ™ºèƒ½æŠ å›¾æ¢åº•ï¼Œæ™ºèƒ½æ–¹ä¾¿ã€‚æä¾›å·²æŠ ç‰ˆPNGå›¾åƒä¸‹è½½ï¼Œæ–¹ä¾¿è‡ªè¡Œåˆæˆåº•ã€‚</p>
            <p>è¯·ç›´æ¥å°†ç°æœ‰è¯ä»¶ç…§æ‹–å…¥ä¸Šå›¾åƒåŒºä¸­ï¼Œå·¥å…·å°†ä¼šè‡ªåŠ¨ä¸ºæ‚¨æ™ºèƒ½æŠ å›¾æ›¿æ¢åº•è‰²ï¼Œæ‚¨å¯ä»¥è‡ªè¡Œåˆ‡æ¢ä»»æ„èƒŒæ™¯è‰²ã€‚</p>
            <p><strong>å¦‚ç‚¹å‡»å›¾åƒæˆ–ä¸‹è½½æŒ‰é’®æ— æ³•è‡ªåŠ¨ä¸‹è½½ï¼Œè¯·å³å‡»é”®æˆ–é•¿æŒ‰è¯ä»¶ç…§åƒä¿å­˜å³å¯ã€‚</strong></p>
        </div>

        <div class="footer">
            <p>
                â¤ï¸ å¼€æºé¡¹ç›® Â·
                <a href="https://github.com/jackyrwj/photo" target="_blank" rel="noopener noreferrer">GitHub</a> Â·
                å…è´¹ä½¿ç”¨ Â· æ¬¢è¿ Star â­
            </p>
            <div class="tech-stack">
                <span>Python</span>Â·
                <span>Flask</span>Â·
                <span>OpenCV</span>Â·
                <span>æ™ºèƒ½æŠ å›¾</span>
            </div>
            <p style="margin-top: 10px; font-size: 12px;">
                Â© 2025 æ¢åº•è‰² Â· Made with ğŸ¨ by <a href="https://github.com/jackyrwj" target="_blank">jackyrwj</a>
            </p>
        </div>

        <div class="loading" id="loading" style="display: none;">
            <div class="spinner"></div>
            <p>å¤„ç†ä¸­ï¼Œè¯·ç¨å€™...</p>
        </div>
    </div>

    <script>
        // ========== çº¯å‰ç«¯å›¾ç‰‡å¤„ç†è„šæœ¬ï¼ˆå†…åµŒç‰ˆæœ¬ï¼‰==========
        
        let selectedFile = null;
        let selectedColor = '#ff0000';
        let outputFilenames = { white: null, blue: null, red: null, custom: null };

        // DOM å…ƒç´ 
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const colorPicker = document.getElementById('colorPicker');
        const colorDisplay = document.getElementById('colorDisplay');
        const processBtn = document.getElementById('processBtn');
        const resultSection = document.getElementById('resultSection');
        const customResultSection = document.getElementById('customResultSection');
        const originalImage = document.getElementById('originalImage');
        const whiteImage = document.getElementById('whiteImage');
        const blueImage = document.getElementById('blueImage');
        const redImage = document.getElementById('redImage');
        const customOriginalImage = document.getElementById('customOriginalImage');
        const customResultImage = document.getElementById('customResultImage');

        // äº‹ä»¶ç›‘å¬
        uploadArea.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            handleFile(e.dataTransfer.files[0]);
        });

        // å¤„ç†æ–‡ä»¶
        function handleFile(file) {
            if (!file) return;
            if (!file.type.startsWith('image/')) {
                alert('è¯·ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ï¼');
                return;
            }

            selectedFile = file;

            // æ˜¾ç¤ºé¢„è§ˆ
            const reader = new FileReader();
            reader.onload = (e) => {
                uploadArea.innerHTML = `<img src="${e.target.result}" style="max-width: 100%; max-height: 300px; border-radius: 8px;"><p style="margin-top: 10px; color: #666;">ç‚¹å‡»é‡æ–°é€‰æ‹©å›¾ç‰‡</p>`;
                originalImage.src = e.target.result;
            };
            reader.readAsDataURL(file);

            autoProcessPresetColors();
            processBtn.disabled = false;
        }

        // é¢„è®¾é¢œè‰²å¤„ç†
        async function autoProcessPresetColors() {
            resultSection.style.display = 'block';
            resultSection.scrollIntoView({ behavior: 'smooth' });

            document.getElementById('whiteLoading').style.display = 'flex';
            document.getElementById('blueLoading').style.display = 'flex';
            document.getElementById('redLoading').style.display = 'flex';
            whiteImage.style.display = 'none';
            blueImage.style.display = 'none';
            redImage.style.display = 'none';
            document.getElementById('downloadWhite').style.display = 'none';
            document.getElementById('downloadBlue').style.display = 'none';
            document.getElementById('downloadRed').style.display = 'none';

            const colors = [
                { name: 'white', hex: '#ffffff', image: whiteImage, loading: 'whiteLoading', download: 'downloadWhite' },
                { name: 'blue', hex: '#2196F3', image: blueImage, loading: 'blueLoading', download: 'downloadBlue' },
                { name: 'red', hex: '#ff0000', image: redImage, loading: 'redLoading', download: 'downloadRed' }
            ];

            const results = await Promise.allSettled(colors.map(c => processColorWithCanvas(c)));
            results.forEach((r, i) => {
                if (r.status === 'rejected') console.error(`å¤„ç†å¤±è´¥ (${colors[i].name}):`, r.reason);
            });
        }

        // æ ¸å¿ƒå¤„ç†å‡½æ•°
        function processColorWithCanvas(colorInfo) {
            return new Promise((resolve) => {
                if (!selectedFile) {
                    resolve();
                    return;
                }

                const reader = new FileReader();

                reader.onerror = (error) => {
                    console.error(`FileReader é”™è¯¯ (${colorInfo.name}):`, error);
                    document.getElementById(colorInfo.loading).textContent = 'è¯»å–å¤±è´¥';
                    resolve();
                };

                reader.onload = (e) => {
                    const img = new Image();

                    img.onerror = () => {
                        console.error(`å›¾ç‰‡åŠ è½½å¤±è´¥ (${colorInfo.name})`);
                        document.getElementById(colorInfo.loading).textContent = 'åŠ è½½å¤±è´¥';
                        resolve();
                    };

                    img.onload = () => {
                        requestAnimationFrame(() => {
                            try {
                                const canvas = document.createElement('canvas');
                                canvas.width = img.width;
                                canvas.height = img.height;
                                const ctx = canvas.getContext('2d', { willReadFrequently: true });

                                if (!ctx) throw new Error('æ— æ³•è·å– Canvas Context');

                                ctx.drawImage(img, 0, 0);
                                smartBackgroundRemoval(ctx, canvas, colorInfo);

                                canvas.toBlob((blob) => {
                                    if (!blob) {
                                        console.error(`toBlob è¿”å›ç©º (${colorInfo.name})`);
                                        document.getElementById(colorInfo.loading).textContent = 'è½¬æ¢å¤±è´¥';
                                        resolve();
                                        return;
                                    }

                                    const url = URL.createObjectURL(blob);
                                    colorInfo.image.src = url;
                                    colorInfo.image.style.display = 'block';
                                    document.getElementById(colorInfo.loading).style.display = 'none';
                                    
                                    const downloadBtn = document.getElementById(colorInfo.download);
                                    downloadBtn.style.display = 'inline-block';
                                    downloadBtn.onclick = () => downloadImage(url, `${colorInfo.name}.png`);

                                    outputFilenames[colorInfo.name] = `${colorInfo.name}.png`;
                                    resolve();
                                }, 'image/png', 0.95);
                            } catch (innerError) {
                                console.error(`Canvas å¤„ç†å‡ºé”™ (${colorInfo.name}):`, innerError);
                                document.getElementById(colorInfo.loading).textContent = 'å¤„ç†å¤±è´¥';
                                resolve();
                            }
                        });
                    };

                    img.src = e.target.result;
                };

                reader.readAsDataURL(selectedFile);
            });
        }

        // èƒŒæ™¯è‰²æ£€æµ‹
        function smartBackgroundRemoval(ctx, canvas, colorInfo) {
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;

            const hexColor = colorInfo.hex.replace('#', '');
            const targetR = parseInt(hexColor.substring(0, 2), 16);
            const targetG = parseInt(hexColor.substring(2, 4), 16);
            const targetB = parseInt(hexColor.substring(4, 6), 16);

            if (isNaN(targetR) || isNaN(targetG) || isNaN(targetB)) {
                console.error('æ— æ•ˆçš„é¢œè‰²å€¼:', colorInfo.hex);
                throw new Error('é¢œè‰²è§£æå¤±è´¥');
            }

            const bgColor = detectBackgroundColor(data, canvas.width, canvas.height);
            const tolerance = 35;
            const edgeBuffer = new Uint8Array(data.length / 4);

            for (let i = 0; i < data.length; i += 4) {
                const pixelR = data[i];
                const pixelG = data[i + 1];
                const pixelB = data[i + 2];
                const pixelA = data[i + 3];
                const diff = colorDistance(pixelR, pixelG, pixelB, bgColor.r, bgColor.g, bgColor.b);
                const pixelIndex = i / 4;

                if (diff < tolerance) {
                    data[i] = targetR;
                    data[i + 1] = targetG;
                    data[i + 2] = targetB;
                    data[i + 3] = 255;
                    edgeBuffer[pixelIndex] = 0;
                } else if (diff < tolerance + 30) {
                    const alpha = Math.max(0, (diff - tolerance) / 30);
                    data[i] = Math.round(pixelR * alpha + targetR * (1 - alpha));
                    data[i + 1] = Math.round(pixelG * alpha + targetG * (1 - alpha));
                    data[i + 2] = Math.round(pixelB * alpha + targetB * (1 - alpha));
                    data[i + 3] = Math.round(pixelA * alpha + 255 * (1 - alpha));
                    edgeBuffer[pixelIndex] = 1;
                } else {
                    edgeBuffer[pixelIndex] = 2;
                }
            }

            smoothEdges(data, edgeBuffer, canvas.width, canvas.height);
            ctx.putImageData(imageData, 0, 0);
        }

        // æ£€æµ‹èƒŒæ™¯è‰²
        function detectBackgroundColor(data, width, height) {
            const corners = [
                { x: 0, y: 0 },
                { x: width - 1, y: 0 },
                { x: 0, y: height - 1 },
                { x: width - 1, y: height - 1 }
            ];

            let sumR = 0, sumG = 0, sumB = 0;

            for (const corner of corners) {
                const idx = (corner.y * width + corner.x) * 4;
                sumR += data[idx];
                sumG += data[idx + 1];
                sumB += data[idx + 2];
            }

            return {
                r: Math.round(sumR / corners.length),
                g: Math.round(sumG / corners.length),
                b: Math.round(sumB / corners.length)
            };
        }

        // é¢œè‰²è·ç¦»
        function colorDistance(r1, g1, b1, r2, g2, b2) {
            const dR = (r1 - r2) * 0.3;
            const dG = (g1 - g2) * 0.59;
            const dB = (b1 - b2) * 0.11;
            return Math.sqrt(dR * dR + dG * dG + dB * dB);
        }

        // è¾¹ç•Œå¹³æ»‘
        function smoothEdges(data, edgeBuffer, width, height) {
            const radius = 1;
            const kernel = [1, 2, 1, 2, 4, 2, 1, 2, 1];
            const kernelWeight = 16;

            for (let i = 0; i < edgeBuffer.length; i++) {
                if (edgeBuffer[i] !== 1) continue;

                const y = Math.floor(i / width);
                const x = i % width;

                let sumR = 0, sumG = 0, sumB = 0, sumA = 0, count = 0;
                let kernelIdx = 0;

                for (let dy = -radius; dy <= radius; dy++) {
                    for (let dx = -radius; dx <= radius; dx++) {
                        const ny = y + dy;
                        const nx = x + dx;

                        if (nx >= 0 && nx < width && ny >= 0 && ny < height) {
                            const idx = (ny * width + nx) * 4;
                            sumR += data[idx] * kernel[kernelIdx];
                            sumG += data[idx + 1] * kernel[kernelIdx];
                            sumB += data[idx + 2] * kernel[kernelIdx];
                            sumA += data[idx + 3] * kernel[kernelIdx];
                            count += kernel[kernelIdx];
                        }
                        kernelIdx++;
                    }
                }

                if (count > 0) {
                    const idx = (y * width + x) * 4;
                    data[idx] = Math.round(sumR / count);
                    data[idx + 1] = Math.round(sumG / count);
                    data[idx + 2] = Math.round(sumB / count);
                    data[idx + 3] = Math.round(sumA / count);
                }
            }
        }

        // é¢œè‰²ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.preset-colors .color-box').forEach(box => {
            box.addEventListener('click', () => {
                selectedColor = box.getAttribute('data-color');
                colorPicker.value = selectedColor;
                colorDisplay.textContent = selectedColor;
            });
        });

        colorPicker.addEventListener('change', (e) => {
            selectedColor = e.target.value;
            colorDisplay.textContent = selectedColor;
        });

        processBtn.addEventListener('click', () => {
            if (!selectedFile) return;
            processCustomColor();
        });

        // è‡ªå®šä¹‰é¢œè‰²å¤„ç†
        async function processCustomColor() {
            customResultSection.style.display = 'block';
            customResultSection.scrollIntoView({ behavior: 'smooth' });

            const colorInfo = {
                name: 'custom',
                hex: selectedColor,
                image: customResultImage,
                loading: 'customLoading',
                download: 'downloadCustom'
            };

            await processColorWithCanvas(colorInfo);
            const downloadBtn = document.getElementById('downloadCustom');
            if (customResultImage.src) {
                downloadBtn.style.display = 'inline-block';
                downloadBtn.onclick = () => downloadImage(customResultImage.src, 'custom.png');
            }
        }

        // ä¸‹è½½å›¾ç‰‡
        function downloadImage(url, filename) {
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
    </script>
</body>
</html>

